# AI開発者向け参照ガイド

## 🚨 重要：コード変更前の必須チェック

**このファイルは、AIがコードを変更する前に必ず参照すべきガイドラインです。**

---

## 📋 変更前の必須確認事項

### 1. 技術仕様書の確認
- **必須ファイル**: `技術仕様書_関数・ファイルパス一覧.md` を必ず参照
- **確認内容**:
  - 変更対象の関数・クラスが仕様書に記載されているか
  - ファイルパスが正しいか
  - 依存関係が明確か

### 2. 変更影響範囲の確認
- 変更する関数が他のモジュールから呼び出されているか
- データベーススキーマに影響がないか
- UIコンポーネントの依存関係は大丈夫か

### 3. テストの確認
- 関連するテストファイルが存在するか
- 変更後にテストが通るか

---

## 🔧 変更時の手順

### Step 1: 技術仕様書の参照
```bash
# 必ず最初にこのファイルを確認
cat 技術仕様書_関数・ファイルパス一覧.md
```

### Step 2: 変更対象の特定
- 変更する関数・クラス名を仕様書で確認
- ファイルパスが正しいことを確認
- 依存関係を把握

### Step 3: 変更の実行
- 仕様書に記載されている構造に従って変更
- 既存の関数シグネチャを維持
- ファイルパスは絶対パスを使用

### Step 4: 変更後の確認
- 技術仕様書の更新が必要かチェック
- 関連するテストの実行
- 動作確認

---

## 📁 重要なファイル一覧

### 技術仕様書
- `技術仕様書_関数・ファイルパス一覧.md` - **最重要：必ず参照**

### 主要モジュール
- `modules/ui_main.py` - メインUI
- `modules/tag_manager.py` - データベース操作
- `modules/dialogs.py` - ダイアログ
- `modules/theme_manager.py` - テーマ管理
- `modules/constants.py` - 定数定義

### 設定・ドキュメント
- `ToDoリスト.md` - 進捗管理
- `requirements.txt` - 依存関係
- `mypy.ini` - 型チェック設定

---

## ⚠️ よくある間違いと注意点

### 1. ファイルパスの間違い
- ❌ 相対パスの使用（`'resources/tags.db'`）
- ✅ 絶対パスの使用（`os.path.join(os.path.dirname(__file__), '..', 'resources', 'tags.db')`）

### 2. 関数名の間違い
- ❌ 存在しない関数の呼び出し（`get_tag_info`）
- ✅ 仕様書に記載された関数の使用（`get_all_tags`）

### 3. クラス構造の変更
- ❌ 既存のクラス構造を無視した変更
- ✅ 仕様書に記載された構造の維持

---

## 🔄 変更後の更新義務

### 技術仕様書の更新が必要な場合
- 新しい関数・クラスの追加
- ファイルパスの変更
- データベーススキーマの変更
- 重要な定数の変更

### ToDoリストの更新
- 完了したタスクのマーク
- 新しく発見された問題の追加
- 進捗状況の更新

---

## 📞 エラー時の対処法

### 1. 技術仕様書を再確認
- 関数名・ファイルパスが正しいか
- 依存関係が正しく記載されているか

### 2. 既存の実装を確認
- 同様の機能が既に実装されていないか
- 既存のパターンに従っているか

### 3. テストの実行
- 関連するテストが存在するか
- テストが通るか

---

## 🎯 最終確認チェックリスト

- [ ] 技術仕様書を参照した
- [ ] 変更対象の関数・クラスを特定した
- [ ] ファイルパスが正しいことを確認した
- [ ] 依存関係を把握した
- [ ] 既存の構造に従って変更した
- [ ] 変更後の動作確認をした
- [ ] 必要に応じて技術仕様書を更新した
- [ ] ToDoリストを更新した

---

**このガイドラインに従わない変更は、予期しないバグや不具合を引き起こす可能性があります。必ず参照してください。** 