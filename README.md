# タグ管理ツール (Tag Manager)

## 🚀 概要

AI画像生成用のプロンプトタグを効率的に管理するためのGUIアプリケーションです。タグの分類、翻訳、重み付け、エクスポート機能を提供し、高品質なプロンプト作成をサポートします。

## ✨ 主な機能

### 🔍 タグ管理
- **タグの追加・編集・削除**: 英語タグと日本語訳の管理
- **カテゴリ分類**: 自動カテゴリ割り当てと手動分類
- **お気に入り機能**: よく使うタグをお気に入り登録
- **最近使ったタグ**: 使用履歴の自動記録

### 🎨 プロンプト作成支援
- **重み付け機能**: タグの重要度を数値で調整
- **自動並び替え**: カテゴリ優先度に基づく自動ソート
- **一括操作**: 複数タグの同時編集・削除
- **エクスポート機能**: プロンプト形式での出力

### 🤖 AI機能
- **自動カテゴリ割り当て**: キーワードベースの自動分類
- **コンテキスト認識**: タグの組み合わせを考慮した分類
- **AI予測**: 機械学習によるカテゴリ予測
- **類似タグ提案**: 既存タグとの類似性分析

### 🎛️ カスタマイズ機能
- **カスタムキーワード**: ユーザー定義の分類キーワード
- **カスタムルール**: 独自の分類ルール設定
- **テーマ切替**: ダーク/ライトテーマ対応
- **設定の保存**: ユーザー設定の永続化

## 🏗️ アーキテクチャ

```
Tag-Manager-Nightly/
├── modules/                      # メインモジュール
│   ├── ui_main.py               # メインUI
│   ├── tag_manager.py           # タグ管理
│   ├── theme_manager.py         # テーマ管理
│   ├── dialogs.py               # ダイアログ
│   ├── constants.py             # 定数定義
│   ├── config.py                # 設定管理
│   ├── ai_predictor.py          # AI予測機能
│   ├── customization.py         # カスタマイズ機能
│   └── common_words.py          # 共通語除外
├── data/                        # データファイル
│   └── tags.db                  # SQLiteデータベース
├── backup/                      # バックアップ
│   ├── YYYY-MM-DD/             # 日付別バックアップ
│   └── test/                   # テスト用バックアップ
├── resources/                   # リソース
│   ├── config/                 # 設定ファイル
│   └── icons/                  # アイコンファイル
├── tests/                      # テスト
├── logs/                       # ログファイル
└── docs/                       # ドキュメント
```

## 🚀 クイックスタート

### 1. インストール

```bash
# リポジトリをクローン
git clone https://github.com/imonoonoko/Tag-Manager.git
cd Tag-Manager-Nightly

# 依存関係をインストール
pip install -r requirements.txt
```

### 2. アプリケーション起動

```bash
# 直接実行
python main.py

# Windows用バッチファイル
run_app.bat
```

### 3. テスト実行

```bash
# 全テストを実行
pytest

# Windows用バッチファイル
run_tests.bat
```

## 📖 使用方法

### 基本的な操作

1. **タグの追加**
   - 「タグ追加」ボタンからカンマ区切りで英語タグを入力
   - 「ネガティブ追加」でネガティブプロンプト用タグを追加

2. **タグの編集**
   - タグ一覧から編集したいタグを選択
   - 右側の編集パネルで内容を修正し「保存」

3. **カテゴリ管理**
   - 左側リストでカテゴリを選択
   - 「カテゴリ一括変更」で複数タグを同時分類

4. **プロンプト作成**
   - タグをダブルクリックで出力欄に追加
   - 重み付けスライダーで重要度調整
   - 「コピー」でクリップボードに出力

### 高度な機能

1. **AI予測機能**
   - メニュー「ツール」→「AI予測機能」
   - 新しいタグのカテゴリ予測
   - 類似タグの提案

2. **カスタマイズ設定**
   - メニュー「ツール」→「カスタムキーワード設定」
   - メニュー「ツール」→「カスタムルール設定」
   - 独自の分類ルールを定義

3. **自動カテゴリ割り当て**
   - メニュー「ツール」→「未分類タグのカテゴリ自動割り当て」
   - 未分類タグの一括分類

## 🛠️ 開発環境

- **Python**: 3.8+
- **GUI**: ttkbootstrap
- **データベース**: SQLite3
- **翻訳**: deep-translator
- **テスト**: pytest
- **型チェック**: mypy

## 📋 開発ガイドライン

### コード品質

- **型ヒント**: 全関数・メソッドに型ヒントを付与
- **テスト**: 新機能追加時は必ずテストを作成
- **ドキュメント**: 重要な関数にはdocstringを記述
- **エラーハンドリング**: 適切な例外処理とログ出力

### 自動化機能

- **技術仕様書**: `技術仕様書_関数・ファイルパス一覧.md`
- **AI参照ガイド**: `AI_REFERENCE_GUIDE.md`
- **進捗管理**: `ToDoリスト.md`
- **自動チェック**: `check_spec.bat`

## 🤝 貢献

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを作成

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は `LICENSE` ファイルを参照してください。

## 🆘 サポート

問題や質問がある場合は、GitHubのIssuesページでお知らせください。

---

**Tag Manager** - AI画像生成のための効率的なタグ管理ツール
